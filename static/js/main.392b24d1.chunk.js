(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(44)},27:function(e,t,a){},29:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(12),o=a.n(i),l=(a(27),a(2)),c=a(3),r=a(5),m=a(4),p=a(6),u=a(9),h=a(10),g=(a(29),a(21)),d=a(14),f=a(13),b=a.n(f),k=a(20),v=[{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_1b956cd6.jpg",likes:540,timestamp:"2017-04-12 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_2c611827.jpeg",likes:270,timestamp:"2017-04-13 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_3d151734.jpg",likes:380,timestamp:"2017-04-14 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_4dccf2bf.jpeg",likes:400,timestamp:"2017-04-15 14:23:45",isLiked:!0},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_6ea7773c.jpeg",likes:752,timestamp:"2017-04-16 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_7f2d4157.jpeg",likes:681,timestamp:"2017-04-17 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_8fb860e0.jpeg",likes:525,timestamp:"2017-04-18 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_9041974b.jpeg",likes:728,timestamp:"2017-04-19 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_100ccb04a.jpeg",likes:662,timestamp:"2017-04-20 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_52923b48.jpeg",likes:279,timestamp:"2017-04-21 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_1131f79ff.jpeg",likes:347,timestamp:"2017-04-22 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_123a00217.jpeg",likes:672,timestamp:"2017-04-23 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_1344b7582.jpeg",likes:260,timestamp:"2017-04-24 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_144f684d4.jpeg",likes:881,timestamp:"2017-04-25 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_155b9c1ee.jpeg",likes:993,timestamp:"2017-04-26 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_16795b053.jpeg",likes:1024,timestamp:"2017-04-27 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_17a21aad9.jpeg",likes:729,timestamp:"2017-04-28 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_1878832d3.jpeg",likes:140,timestamp:"2017-04-29 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_1980e24ae.jpeg",likes:760,timestamp:"2017-04-30 14:23:45"},{Image:"https://s3-ap-southeast-1.amazonaws.com/he-public-data/insta_20897a83a.jpeg",likes:669,timestamp:"2017-05-01 14:23:45"}],j=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"fetchImages",value:function(){var t=Object(k.a)(b.a.mark(function t(){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.storageGet("nilarnabInstaImages");case 2:if((a=t.sent)&&0!==a.length){t.next=7;break}return t.next=6,e.storageSet("nilarnabInstaImages",v);case 6:a=v;case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"storageSet",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"storageGet",value:function(e){return JSON.parse(localStorage.getItem(e))}}]),e}();j.LOCAL_STORAGE_KEY="nilarnabInstaImages";var w=a(7),O=a(17),I=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getUploadTimeFormatted",value:function(){return O(this.props.timestamp).format("LLL")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"image-wrapper"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:this.props.image.Image,alt:this.props.alt||"load failed",onClick:function(t){e.props.onImageClick&&e.props.onImageClick(t.target.src)}}),s.a.createElement("p",null,this.props.image.likes,s.a.createElement("span",{onClick:function(){e.props.onLikeToggle(e.props.image)}},this.props.image.isLiked?s.a.createElement(w.a,{icon:"heart",style:{marginLeft:"20px",color:"#f00"}}):s.a.createElement(w.a,{icon:"heart",style:{marginLeft:"20px",color:"#24ffff"}}))),s.a.createElement("p",{className:"image-timestamp"},this.getUploadTimeFormatted())))}}]),t}(n.Component),y=a(8),E=a.n(y),C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",height:"auto",width:"250px",backgroundColor:"red",color:"white",marginRight:"-50%",transform:"translate(-50%, -50%)"}};E.a.setAppElement("#root");var S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).fileInputRef=null,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(E.a,{isOpen:this.props.modalIsOpen,onRequestClose:function(){e.props.onClose()},style:C},s.a.createElement("div",{style:{textAlign:"center"},onClick:function(){e.fileInputRef&&e.fileInputRef.click()}},s.a.createElement(w.a,{icon:"file-upload",style:{fontSize:"3em"}}),s.a.createElement("span",{style:{fontSize:"2em",marginLeft:"20px"}},"Upload an image")),s.a.createElement("input",{type:"file",style:{display:"none"},ref:function(t){e.fileInputRef=t},onChange:function(t){e.handleChange(t)}}))}},{key:"handleChange",value:function(e){var t=this,a=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){var e=n.result;t.props.onFileRead&&t.props.onFileRead(e)},!1),a&&n.readAsDataURL(a)}}]),t}(s.a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"fab",onClick:function(){e.props.onClick()}},s.a.createElement("div",{className:"icon"},s.a.createElement(w.a,{icon:"plus"})))}}]),t}(n.Component),z={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",height:"auto",width:"auto",backgroundColor:"#ca5454",color:"white",marginRight:"-50%",transform:"translate(-50%, -50%)"}},L={maxWidth:window.innerWidth-50+"px",height:"auto"};E.a.setAppElement("#root");var x=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(E.a,{isOpen:this.props.modalIsOpen,onRequestClose:function(){e.props.onClose()},style:z,contentLabel:"Example Modal"},s.a.createElement("div",{style:{textAlign:"center"}},this.props.imageSrc?s.a.createElement("img",{src:this.props.imageSrc,alt:"",style:L}):""))}}]),t}(s.a.Component),R=a(17),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).anchorElement=null,a.state={images:[],isUploadModalShown:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.fetchImages().then(function(t){e.setState({images:t})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"images-list"},this.state.images.map(function(t){return s.a.createElement(I,{image:t,key:t.Image,onLikeToggle:e.onLikeToggle.bind(e),onImageClick:function(t){e.setState({previewImage:t})}})}),s.a.createElement("div",{style:{height:"1px",width:"1px"},ref:function(t){e.anchorElement=t}})),s.a.createElement(_,{onClick:this.onUploadFABClicked.bind(this)}),s.a.createElement(S,{modalIsOpen:this.state.isUploadModalShown,onClose:this.closeUploadModal.bind(this),onFileRead:this.onFileRead.bind(this)}),s.a.createElement(x,{imageSrc:this.state.previewImage,modalIsOpen:null!=this.state.previewImage,onClose:this.onPreviewClose.bind(this)}))}},{key:"onLikeToggle",value:function(e){e.isLiked?(e.isLiked=!1,e.likes-=1):(e.isLiked=!0,e.likes+=1);var t=this.state.images.slice();this.saveBackToStorage(t),this.setState({images:t})}},{key:"onUploadFABClicked",value:function(){this.setState(Object(d.a)({},this.state,{isUploadModalShown:!this.state.isUploadModalShown}))}},{key:"closeUploadModal",value:function(){this.setState(Object(d.a)({},this.state,{isUploadModalShown:!1}))}},{key:"onPreviewClose",value:function(){this.setState({previewImage:null})}},{key:"onFileRead",value:function(e){j.storageSet("instaFile",e);var t={Image:e,likes:0,timestamp:R().format()},a=Object(g.a)(this.state.images).concat([t]);this.saveBackToStorage(a),this.setState({images:a,isUploadModalShown:!1}),this.scrollToBottom()}},{key:"saveBackToStorage",value:function(e){j.storageSet(j.LOCAL_STORAGE_KEY,e)}},{key:"scrollToBottom",value:function(){this.anchorElement&&this.anchorElement.scrollIntoView({behavior:"smooth"})}}]),t}(n.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"toolbar"},s.a.createElement("span",{className:"typed-text"},"Nilarnab's Gallery"))}}]),t}(n.Component);u.b.add(h.b,h.c,h.a);var A=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(T,null),s.a.createElement(U,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.392b24d1.chunk.js.map